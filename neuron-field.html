<link rel="import" href="../neuron-base/neuron-base.html">


<dom-module id="neuron-field">
  <style>
			:host{
				display: flex;
			}

			svg {
				width: 100%;
				height: 100%;
			}

			svg path {
				fill: rgba(255,0,0,0.9);
			}
		</style>
  <template>
		  <svg id="svg" viewBox="0 0 1 2" preserveAspectRatio="none">
  			<defs>
				<filter id="f1"> 
					<feGaussianBlur in="SourceGraphic" stdDeviation="0.15" />
				</filter>
			</defs>
			<g filter="url(#f1)">
				<rect fill="none" width="1" height="2" />
				<path></path>
			</g>
		</svg>

		<shadow></shadow>
	</template>
</dom-module>
<script>
	Polymer({
		is: 'neuron-field',
		behaviors: [DiyaBehaviors.Neuron],
		properties: {
		},

		observers: [
			"onValue(neuronValues)"
		],

		ready: function () {
		},

		onValue: function(neuronValues) {
			var lineFunction = d3.svg.area()
						.x(function(d, i) { return i / (neuronValues.length - 1); })
						.y0(3)
						.y1(function(d) { return 2 - d; })
						.interpolate("basis");

			var svgContainer = d3.select(this.$.svg);

			var lineGraph = svgContainer.select("path")
				.attr("d", lineFunction(neuronValues))
		}


	});
</script>
